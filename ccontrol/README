This directory contains all the ccontrol project.

Cache Control allows an application to restrict any dynamic memory allocation to a partition
of the cache.

This tool works by loading custom code into the Linux kernel (using a module) that will
reserve memory and exports it to the user using virtual devices. The cache partitioning
is guarantied by page coloring (giving physical pages that fall in the same part of cache).

This tool does not work on fully associative caches.


Compiling:

The classical ./configure ; make ; make install should work
This project has no dependencies except for the linux kernel headers
necessary to compile the kernel module.

The kernel module install rule does not understand the install prefix,
but there is a special variable named INSTALL_MOD_PATH, so the following will
work:

INSTALL_MOD_PATH=prefix make install

Running:

The project includes a ccontrol command line tool to load, unload and execute
commands.

sudo ccontrol load will load the required kernel module.

You can specify how much memory the module should reserve for its usage with
the --mem option (K,M and G chars can be used for sizes).

Any memory you reserve for the module will be unavailable to the rest of the system (be careful
to not trigger the OOM killer by reserving too much memory). The module does not support swapping
allocated pages.

sudo ccontrol unload will unload the module and free physical memory.

sudo ccontrol exec will execute a load the module, execute a command and unload the module.
You can hijack dynamic memory allocation with option --ld-preload.

How much memory can I get:
	As much as there is physical memory in your system.

The libccontrol provides a easy interface to the cache control facilities.

Using in applications:

	Use the libccontrol to allocate special colored memory area that will use the cache colors
	you specified.

NOTES:
	modinfo on the module will display the parameters and a small desc.
	The module dump some useful info to syslog. Type 'dmesg' to display it. 
